
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Antiforgery
@{
    var tokens = Antiforgery.GetAndStoreTokens(Context);
}



<!DOCTYPE html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
        }

        footer {
            flex-shrink: 0;
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-900 w-screen h-screen">
    <header class="bg-blue-900 text-white sticky top-0 text-lg p-4 w-screeen flex justify-center">
        <div class="max-h-72">
            <div class="flex justify-between">
                <a href="@Url.Action("GetAllNews", "News")" class="text-white hover:text-gray-200 text-decoration-none">
                    Workpoint
                </a>
                <div class="flex items-center">
                    <form id="searchForm" class="flex gap-2" action="@Url.Action("Search", "News")" method="get">
                        <input type="text" 
                            name="searchTerm" 
                            class="form-control text-gray-900" 
                            placeholder="ค้นหาข่าว..."
                            value="@ViewBag.CurrentSearch">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-search"></i> Search
                        </button>
                    </form>
                </div>
            </div>
            <div class="grid grid-cols-8">
                <div>
                    รายการสด
                </div>
                <div>
                    รายการ
                </div>
                <div>
                    ผังรายการ
                </div>
                <div>
                    ศิลปินดารา
                </div>
                <div>
                    เพลง
                </div>
                <div>
                    ดารา
                </div>
                <div>
                    workpointToday
                </div>
            </div>
        </div>
    </header>

    <main class="mx-auto overflow-y-auto">
        @RenderBody() 
        <meta name="csrf-token" content="@tokens.RequestToken" />
    </main>
    @RenderSection("Scripts", required: false)

    <footer class="text-center text-gray-500 w-screen bg-blue-900 text-white text-lg">
        <div class="grid grid-cols-3 my-4 gap-4">
            <div>
                Workpoint
            </div>
            <div>
                ติดตามเรา
            </div>
            <div>
                <div>
                    ติดต่อโฆษณา
                </div>
                <div>
                    02-833-2469
                </div>
            </div>
            <div>
                <div>
                    ข้อมูลบริษัท
                </div>
                <div>
                    ติดต่อสอบถาม
                </div>
                <div>
                    content licensing
                </div>
                <div>
                    Privacy Policy
                </div>
            </div>
            <div>
                <div>
                    ดาวน์โหลดแอพพลิเคชั่น
                </div>
                <div>
                </div>
            </div>
            <div>
                <div>
                    COPYRIGHT 2019
                </div>
                <div>
                    THAI BROADCASTING COMPANY LIMITED
                </div>
                <div>
                    ALL RIGHTS RESERVED.
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchForm = document.getElementById('searchForm');
            const searchInput = searchForm.querySelector('input[name="searchTerm"]');

            let debounceTimer;

            searchInput.addEventListener('input', function() {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => {
                    if (this.value.length >= 2 || this.value.length === 0) {
                        searchForm.submit();
                    }
                }, 500);
            });
        });
    </script>
}